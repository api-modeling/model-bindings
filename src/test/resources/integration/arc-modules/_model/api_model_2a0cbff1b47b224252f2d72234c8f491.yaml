#%ApiModel 0.1
uuid: 2a0cbff1b47b224252f2d72234c8f491
name: arc-api.raml
entities:
  AdaptedEntity.ModuleResponse19:
    uuid: 7cabeb7424f950dd02296ed87026946e
    adapts: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
  AdaptedEntity.ModuleResponse18:
    uuid: 7aeb6ffe94e283dba3ca242c7fa90e23
    adapts: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
  DefaultPayload_3779ea6eda3e6b090e9e0582aa1d5261:
    uuid: 95e9b2372ffd11d54ab54fe3c16881ea
    attributes: {}
    associations: {}
  Entity12:
    uuid: 9ffdafabc2076bec08667b1ee4dba95f
    attributes:
      code:
        allowMultiple: false
        uuid: e6652ccc658601f46ab0d4d970a81bb5
        required: true
        range:
          type: string
    associations: {}
  Entity9:
    uuid: 1e5702b15ab9860d304dd28c920985f4
    attributes:
      aid:
        allowMultiple: false
        uuid: 036201a2cc9afb8f227944839d2cc128
        required: true
        range:
          type: string
      tz:
        allowMultiple: false
        uuid: fd0dc028784892a5ea47507826732dd0
        required: true
        range:
          type: integer
    associations: {}
    description: |
      The request body can be easily created in JavaScript using FormData:

      ```
      let data = new FormData();
      data.append('aid', aid); // anonymousId
      data.append('tz', d.getTimezoneOffset()); //timezone
      ```
      and then passed to XHR or Fetch function as a parameter:
      ```
      fetch(url, {
        method: 'POST',
        body: data
      });
      ```
  Entity36:
    uuid: c845fcbfdb026634bef929813cfb7027
    attributes: {}
    associations:
      upgrades:
        allowMultiple: true
        uuid: e7b3c258aecdbd1e235cb11e2727156c
        required: true
        target: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
    description: Created module.
  AdaptedEntity.PersonResponse40:
    uuid: 57890df8328abf7e96f9ede9218af851
    adapts: http://mulesoft.com/modeling/instances/330ec9a9e864dbaee0f09d7b31608d37
  AdaptedEntity.ModuleResponse26:
    uuid: ceee8279d42769af3460863bef463ae8
    adapts: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
  AdaptedEntity.PersonResponse37:
    uuid: c6aa188025c432227b6257b80090fe32
    adapts: http://mulesoft.com/modeling/instances/330ec9a9e864dbaee0f09d7b31608d37
  DefaultPayload_4b4b16eef65c3a14ed111af141db8d22:
    uuid: fdd20cc4a42b60ed8eecc960fcec6c30
    attributes: {}
    associations: {}
  DefaultPayload_89d13c80c468be2da95546dc5b4272e4:
    uuid: c2797c8629be3f3bcbf8539ab163925b
    attributes: {}
    associations: {}
  default:
    uuid: a577e5e7236b185a8fd88c9a510b91b6
    attributes:
      authToken:
        allowMultiple: false
        uuid: 02c9ec85da34fa2391aa2c4819f04fec
        required: true
        range:
          type: string
    associations: {}
  DefaultPayload_b43baf4864e1803101a485ac709f9468:
    uuid: b14ebc92fcd4f1336c6baf8d27d7abe1
    attributes: {}
    associations: {}
  schema23:
    uuid: e3b47530-1bc4-4a9f-acbd-c1de0a62856c
  Entity34:
    uuid: 0e8cc6df0ce76b06f6fa0a62fa1d5f39
    attributes:
      version:
        allowMultiple: false
        uuid: 60f65dd7e92579040347c346f1469dd2
        required: true
        range:
          type: string
    associations:
      modules:
        allowMultiple: true
        uuid: 9f3829fd5a20e948a10d9448dde5e460
        required: true
        target: http://mulesoft.com/modeling/instances/f75cda6206b987b93dfe6ac1e475ad70
  DefaultPayload_889639457bfca5c34db982266fd00d1f:
    uuid: db2db8581e42b4a87e0cca127afc2f4b
    attributes: {}
    associations: {}
  DefaultPayload_29485553cc4a384ef298a9c5da94b217:
    uuid: ff67c5aea03f3453c30d4ce5e62cbffb
    attributes: {}
    associations: {}
  DefaultPayload_310c4e515705441c2564941924d9b5c1:
    uuid: f0e0b367a7a0e31a1a02c839713c9810
    attributes: {}
    associations: {}
entryPoint:
  uuid: d08bb86ecfe5a6eca23305f7d8d1e126
  name: ARC Analytics API
  description: |
    Advanced REST client API.

    It is consisten of Analytics API, Letsencrypt support API and ARC modules API.

    ## Analytics API 

    Analytics API is a supplement for Google Analytics used in the app. It collected very limited data: daily suers and sessions, weekly users and sessions and finally monthly users and sessions.

    Any information stored in the analyics API can't be reversed back to any particular instance of the application whether the user is authenticated or not. See documentation of `How data are  stored` for more information.

    ## Modules API

    ARC modules API is a registry of ARC modules that can be installed in the application.
    API keeps tracking of versions of published modules and informs application about new version of the module.
    It also allows search through available modules so the user can install module directly from the application.

    Modules are consistent of themes and arc extensions. Extensions are either web components or node modules.
  events: []
  operations:
    -
      uuid: 50b3e61fcd90bc274aee5a15b0a107ed
      name: Find Resource /analyzer
      transition:
        uuid: a9e5dbafee0ca566741f3704f41d7280
        target: http://mulesoft.com/modeling/instances/48863b3e-6638-4a64-9756-bebdd8350471
      inputs: []
      output:
        allowMultiple: false
        uuid: c53cc71d2f6b63b1297186b9ecdca1f0
        required: false
        objectRange: http://mulesoft.com/modeling/instances/c2797c8629be3f3bcbf8539ab163925b
      isMutation: false
      type: custom
    -
      uuid: a40efdc5db76ca3f438ea6ed430c9b00
      name: Create analytics/record
      inputs:
        -
          allowMultiple: false
          uuid: 46fe31571db00ff1d58a1c909ac47ce0
          required: false
          objectRange: http://mulesoft.com/modeling/instances/1e5702b15ab9860d304dd28c920985f4
      isMutation: true
      type: custom
    -
      uuid: 139f8e71b2b7eb856d86fbdd7fae3c78
      name: Find Resource /auth
      transition:
        uuid: 9239b3e7de20176157b7984935f004ad
        target: http://mulesoft.com/modeling/instances/44f3ee95-1582-44b6-9fee-442ed2911196
      inputs: []
      output:
        allowMultiple: false
        uuid: 429d392a091b6734d19a139607936707
        required: false
        objectRange: http://mulesoft.com/modeling/instances/ff67c5aea03f3453c30d4ce5e62cbffb
      isMutation: false
      type: custom
    -
      uuid: 51b745a1377858fb0a8e0a0a1f02c258
      name: Find Resource /users
      transition:
        uuid: 4c297401cd3408dd9f886a891c6ea5dc
        target: http://mulesoft.com/modeling/instances/e9babff0-1f34-4450-b4c1-daf563319db8
      inputs: []
      output:
        allowMultiple: false
        uuid: 6a1ee8706d816220d95fff9f8c287206
        required: false
        objectRange: http://mulesoft.com/modeling/instances/f0e0b367a7a0e31a1a02c839713c9810
      isMutation: false
      type: custom
    -
      uuid: f9e1dc01de48ebb05e1bc8bd8022dc93
      name: Find Resource /modules
      transition:
        uuid: c53d80a252e4242011c964a3ed38f6d4
        target: http://mulesoft.com/modeling/instances/c6593e40-d7cf-44ca-91c2-c59d2dea38ea
      inputs:
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: bbebbd7ea36fe2610396a46879920edb
          name: q
          required: false
          description: A query for filtering the modules results. See the "Search for modules" documentation guide for the supported syntax.
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: 0e9567980728b552708d7c0617f991d4
          name: type
          required: false
          description: Type of the module. It can be either `extension` or `theme`.
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: c9ab49d1a000bac8238190dcf1a91040
          name: orderBy
          required: false
          description: |
            A sort property. By default it is module creation `time` in descending order.
            Other properties are `stars` and `downloads` as a number of downloads of the module.

            With the property you may specify direction as either `desc` or `asc`. If not specified, `desc` is assumed.
      isMutation: false
      type: custom
    -
      uuid: 9fe48ea22f89f58e6db9487cba4da22b
      name: Create updates
      inputs:
        -
          allowMultiple: false
          uuid: 71847a721f171889122877afd6b98446
          required: false
          objectRange: http://mulesoft.com/modeling/instances/0e8cc6df0ce76b06f6fa0a62fa1d5f39
      output:
        allowMultiple: false
        uuid: 086eca1976baee07d848bff3d31e7bea
        required: false
        objectRange: http://mulesoft.com/modeling/instances/c845fcbfdb026634bef929813cfb7027
      isMutation: true
      type: custom
    -
      uuid: ed0b913a97a6aaae95255bd887bc80a9
      name: Find Resource /tasks
      transition:
        uuid: 2357693c6f2cd00a9f044ecc81f33844
        target: http://mulesoft.com/modeling/instances/d42fe58f-9888-4de3-a860-7076e12f402b
      inputs: []
      output:
        allowMultiple: false
        uuid: a3fc1350402a33a68d63f5221743e22f
        required: false
        objectRange: http://mulesoft.com/modeling/instances/b14ebc92fcd4f1336c6baf8d27d7abe1
      isMutation: false
      type: custom
    -
      uuid: 2bfb8d8d1983104b31c919796e23989e
      name: Find Resource /.well-known/acme-challenge/{challenge}
      transition:
        uuid: 7886afe504167941dd9b07fb11ba997f
        target: http://mulesoft.com/modeling/instances/3a9f5977-9ca3-43ba-a1b5-bec16a3966e9
      inputs:
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: 7b13bae5d2313e37f7af2c5158594a47
          name: challenge
          required: true
          description: A challenge code
      output:
        scalarRange:
          type: string
        allowMultiple: false
        uuid: c206714a058021e9b9a92663ee317ab3
        required: false
      isMutation: false
      type: custom
    -
      uuid: 6e7a67981905b12cd4a523f83c935671
      name: Find Resource /analytics/query
      transition:
        uuid: f63c59c0ff51d5f3f789a127d809af59
        target: http://mulesoft.com/modeling/instances/fd614c81-8f9f-45cb-914b-5c5fdeee0bf9
      inputs: []
      output:
        allowMultiple: false
        uuid: 15e9906a6e60d0078d281888a4a77222
        required: false
        objectRange: http://mulesoft.com/modeling/instances/db2db8581e42b4a87e0cca127afc2f4b
      isMutation: false
      type: custom
resources:
  -
    uuid: 48863b3e-6638-4a64-9756-bebdd8350471
    name: Resource /analyzer
    schema:
      uuid: c2797c8629be3f3bcbf8539ab163925b
      name: DefaultPayload_89d13c80c468be2da95546dc5b4272e4
      attributes: {}
      associations: {}
    description: |
      The analyser endpoint is to be run as a task.

      Because tasks computes a lot of data and performs operation on potentially hundred of thousands
      of records this will most possibly reach request time limit (30 secodns) and return with `500`
      status code.

      Tasks are executed in special environment and are allowed to work for up to 10 minutes.
    events: []
    operations: []
    type: individual
  -
    uuid: c6593e40-d7cf-44ca-91c2-c59d2dea38ea
    name: Resource /modules
    events: []
    operations:
      -
        uuid: 8afd31f1721909a488a74924880392ce
        name: Create
        inputs:
          -
            allowMultiple: false
            uuid: 0ff9abcec1bfa9f55123ea7bb9788b41
            required: false
            objectRange: http://mulesoft.com/modeling/instances/2a9f14faa5168a15bd019ece23e27539
        output:
          allowMultiple: false
          uuid: 08c7b70fd0d314bf0a77417b71cf0e14
          required: false
          objectRange: http://mulesoft.com/modeling/instances/7aeb6ffe94e283dba3ca242c7fa90e23
        isMutation: true
        type: custom
      -
        uuid: 7e06fe27ec0300f746947cf494c855eb
        name: Find Resource /modules/{moduleId}
        transition:
          uuid: 367895b13661bff9d40c61fadadd1d7f
          target: http://mulesoft.com/modeling/instances/abe8b601-1740-4523-8995-05435f9c5580
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 034f69194eaabdafedd3d819b6e22342
            name: moduleId
            required: true
            description: ID of the module.
        output:
          allowMultiple: false
          uuid: 9ceba411c7fde3ad58d59b0e97fc0b00
          required: false
          objectRange: http://mulesoft.com/modeling/instances/ceee8279d42769af3460863bef463ae8
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 8e1d5db5-c8fe-4972-af6c-de0693d7cbe4
    name: Resource /users/{userId}
    schema:
      uuid: c6aa188025c432227b6257b80090fe32
      name: AdaptedEntity.PersonResponse37
      adapts: http://mulesoft.com/modeling/instances/330ec9a9e864dbaee0f09d7b31608d37
    events: []
    operations: []
    type: individual
  -
    uuid: 8b0e814a-c18b-445f-832b-d64d9f96a8ce
    name: Resource /analytics/query/daily
    schema:
      uuid: 95e9b2372ffd11d54ab54fe3c16881ea
      name: DefaultPayload_3779ea6eda3e6b090e9e0582aa1d5261
      attributes: {}
      associations: {}
    description: Endpoint to query for daily statistics.
    events: []
    operations: []
    type: individual
  -
    uuid: 3a9f5977-9ca3-43ba-a1b5-bec16a3966e9
    name: Resource /.well-known/acme-challenge/{challenge}
    description: An endpoint to make a request from the LetsEncrypt service to confirm the domain ownership.
    events: []
    operations: []
    type: individual
  -
    uuid: fd614c81-8f9f-45cb-914b-5c5fdeee0bf9
    name: Resource /analytics/query
    schema:
      uuid: db2db8581e42b4a87e0cca127afc2f4b
      name: DefaultPayload_889639457bfca5c34db982266fd00d1f
      attributes: {}
      associations: {}
    description: |
      The Query endpoint is responsible for getting data out from the datastore.

      The data are agregated every day, week (on monday) and month (every first day of month).
      This endpoints returns data from aggregated tables and never operated on raw data.

      Depending on endpoint it can return only number of users/sessions for given day or number
      of users or session for a week or month with daily sessions or users. See methods
      documentation for more details.
    events: []
    operations:
      -
        uuid: b79163dfdca16351a8393a4501236e3b
        name: Find Resource /analytics/query/daily
        transition:
          uuid: 598c5dfaa84e5e3ee596c4864d637490
          target: http://mulesoft.com/modeling/instances/8b0e814a-c18b-445f-832b-d64d9f96a8ce
        inputs: []
        output:
          allowMultiple: false
          uuid: c896811a922adbc7a705ff623db4d578
          required: false
          objectRange: http://mulesoft.com/modeling/instances/95e9b2372ffd11d54ab54fe3c16881ea
        isMutation: false
        type: custom
      -
        uuid: de0f6a5e433c39c41045937b3978c96e
        name: Find Resource /analytics/query/{scope}
        transition:
          uuid: d37a6289fe87cc31f49b16893244c627
          target: http://mulesoft.com/modeling/instances/22f97377-1410-4a0d-9eb1-edd72b64a765
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 2a85e25fbd956bcfca7714a714788255
            name: scope
            required: true
            description: |
              A time period for the statistics. Only `weekly` and `monthly` values are allowed.
        output:
          allowMultiple: false
          uuid: fd7e0dc1b835d95acc1771761d45382c
          required: false
          objectRange: http://mulesoft.com/modeling/instances/fdd20cc4a42b60ed8eecc960fcec6c30
        isMutation: false
        type: custom
    type: individual
  -
    uuid: abe8b601-1740-4523-8995-05435f9c5580
    name: Resource /modules/{moduleId}
    schema:
      uuid: 7cabeb7424f950dd02296ed87026946e
      name: AdaptedEntity.ModuleResponse19
      adapts: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
    description: |
      An endpoint to get information abour a module or to manage it.
      Only a user that created the module can manage it (update or delete).

      Updating module usually changes it's description or version.

      This endpoint returns information about latest released version of the module
      (with highest version number).

      To manage specific version use `/{moduleId}/{versionNumber}` endponit.
    events: []
    operations:
      -
        uuid: 32d4d631bdab928b5b88e0a9c999027d
        name: Update
        inputs:
          -
            allowMultiple: false
            uuid: e27bb2c8465e896389a92f443e1f4b9c
            required: false
            objectRange: http://mulesoft.com/modeling/instances/2a9f14faa5168a15bd019ece23e27539
        isMutation: true
        type: custom
      -
        uuid: 03db50fedd16651fcc6ff84457b2aa4c
        name: Delete
        inputs: []
        isMutation: true
        type: custom
      -
        uuid: f58fe6e5b539449e5fc4f697e28de926
        name: Find Resource /modules/{moduleId}/star
        transition:
          uuid: fbffd12eed4c063ec52eaa5d313475f7
          target: http://mulesoft.com/modeling/instances/520bec16-7091-4645-9fcb-7e1e79b01970
        inputs: []
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 22f97377-1410-4a0d-9eb1-edd72b64a765
    name: Resource /analytics/query/{scope}
    schema:
      uuid: fdd20cc4a42b60ed8eecc960fcec6c30
      name: DefaultPayload_4b4b16eef65c3a14ed111af141db8d22
      attributes: {}
      associations: {}
    description: Endpoint to query for periodical statistics.
    events: []
    operations: []
    type: individual
  -
    uuid: e9babff0-1f34-4450-b4c1-daf563319db8
    name: Resource /users
    schema:
      uuid: f0e0b367a7a0e31a1a02c839713c9810
      name: DefaultPayload_310c4e515705441c2564941924d9b5c1
      attributes: {}
      associations: {}
    events: []
    operations:
      -
        uuid: ed93750a2173d5e44412a90e00254342
        name: Find Resource /users/{userId}
        transition:
          uuid: e88bc9ae4a347c7fffcbd645b383a70c
          target: http://mulesoft.com/modeling/instances/8e1d5db5-c8fe-4972-af6c-de0693d7cbe4
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: d3f95ba5749c7c00967c253eea2cf9b4
            name: userId
            required: true
            description: |
              User id which is a `ref` property from user response object.
        output:
          allowMultiple: false
          uuid: 1d2c9f3c54969f0b47de0ab96e8c8a9c
          required: false
          objectRange: http://mulesoft.com/modeling/instances/57890df8328abf7e96f9ede9218af851
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 520bec16-7091-4645-9fcb-7e1e79b01970
    name: Resource /modules/{moduleId}/star
    events: []
    operations:
      -
        uuid: 1b3f7a8bbb834323ecf7fb3f617453cc
        name: Create
        inputs:
          -
            allowMultiple: false
            uuid: 843f6429d6863e7682353e3ef409bcc6
            required: false
            objectRange: http://mulesoft.com/modeling/instances/e3b47530-1bc4-4a9f-acbd-c1de0a62856c
        isMutation: true
        type: custom
      -
        uuid: 7d8cfd619b30fd15c5274dab126d34d0
        name: Delete
        inputs: []
        isMutation: true
        type: custom
    type: individual
  -
    uuid: d42fe58f-9888-4de3-a860-7076e12f402b
    name: Resource /tasks
    schema:
      uuid: b14ebc92fcd4f1336c6baf8d27d7abe1
      name: DefaultPayload_b43baf4864e1803101a485ac709f9468
      attributes: {}
      associations: {}
    description: |
      Server that handles cron calls.

      This endpoint is meant to be called by cron. It is mapping calls to the `/analyzer/` endpoint.
    events: []
    operations:
      -
        uuid: 4f3534de44c2e55e4dda1e7e577947bd
        name: Find Resource /tasks/{scope}/{type}
        transition:
          uuid: c8ddac1bc0989699c59699acaa0a781f
          target: http://mulesoft.com/modeling/instances/408988ff-018d-4b16-89c2-cf499727c26c
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: d57c453cfa8b3a921e9cfaa6f80518e0
            name: type
            required: true
            description: |
              Type of the data to compute. Can be either `users` to compute number of users for given scope and `sessions` to compute number of sessions.
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 3b640988340816f6a6ea8845ea6dcd4c
            name: scope
            required: true
            description: |
              The time scope of computation to perform. It can be either `daily`, `weekly` or `monthly`.

              Except for the daily type, actual start date may be different than the one provided in the `day` query parameter.
              For weekly computations the server will always set monday going backward if the day is not Monday.
              Similar for monthly computations it will be always set to the first day of month.
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 44f3ee95-1582-44b6-9fee-442ed2911196
    name: Resource /auth
    schema:
      uuid: ff67c5aea03f3453c30d4ce5e62cbffb
      name: DefaultPayload_29485553cc4a384ef298a9c5da94b217
      attributes: {}
      associations: {}
    events: []
    operations:
      -
        uuid: 29c1f696ba52046dc963569ed1171abe
        name: Create token
        inputs:
          -
            allowMultiple: false
            uuid: 465fe77c2adc8de1b501572857e023f8
            required: false
            objectRange: http://mulesoft.com/modeling/instances/9ffdafabc2076bec08667b1ee4dba95f
        output:
          allowMultiple: false
          uuid: a71f9d26cdb325e110ad842c2a4f8af1
          required: false
          objectRange: http://mulesoft.com/modeling/instances/a577e5e7236b185a8fd88c9a510b91b6
        isMutation: true
        type: custom
    type: individual
  -
    uuid: 408988ff-018d-4b16-89c2-cf499727c26c
    name: Resource /tasks/{scope}/{type}
    events: []
    operations: []
    type: individual
