#%ApiModel 0.1
uuid: 2a0cbff1b47b224252f2d72234c8f491
name: arc-api.raml
entities:
  DefaultPayload:
    uuid: f55849cd3320522c9b00af9ed0631ad6
    attributes: {}
    associations: {}
  Entity17:
    uuid: 0944f6703ed348af7677ec05cde00b94
    attributes: {}
    associations: {}
    description: Creates a new module.
    extends: http://mulesoft.com/modeling/instances/2a9f14faa5168a15bd019ece23e27539
  DefaultPayload:
    uuid: 7bb8e8d7b76ef2c7d6233d512d717b6a
    attributes: {}
    associations: {}
  Entity9:
    uuid: 1e5702b15ab9860d304dd28c920985f4
    attributes:
      aid:
        allowMultiple: false
        uuid: 036201a2cc9afb8f227944839d2cc128
        required: true
        range:
          type: string
      tz:
        allowMultiple: false
        uuid: fd0dc028784892a5ea47507826732dd0
        required: true
        range:
          type: integer
    associations: {}
    description: |
      The request body can be easily created in JavaScript using FormData:

      ```
      let data = new FormData();
      data.append('aid', aid); // anonymousId
      data.append('tz', d.getTimezoneOffset()); //timezone
      ```
      and then passed to XHR or Fetch function as a parameter:
      ```
      fetch(url, {
        method: 'POST',
        body: data
      });
      ```
  "":
    uuid: 95f71d36ce5565c8d97a82c469bdee46
  Entity22:
    uuid: 897b14e331cc96dc1efb5d0518c9c942
    attributes: {}
    associations: {}
    extends: http://mulesoft.com/modeling/instances/2a9f14faa5168a15bd019ece23e27539
  Entity36:
    uuid: 0e8cc6df0ce76b06f6fa0a62fa1d5f39
    attributes:
      version:
        allowMultiple: false
        uuid: 60f65dd7e92579040347c346f1469dd2
        required: true
        range:
          type: string
    associations:
      modules:
        allowMultiple: true
        uuid: 9f3829fd5a20e948a10d9448dde5e460
        required: true
        target: http://mulesoft.com/modeling/instances/f75cda6206b987b93dfe6ac1e475ad70
  DefaultPayload:
    uuid: 1382949448b65cb83b37f22089d07b70
    attributes: {}
    associations: {}
  Entity13:
    uuid: 9ffdafabc2076bec08667b1ee4dba95f
    attributes:
      code:
        allowMultiple: false
        uuid: e6652ccc658601f46ab0d4d970a81bb5
        required: true
        range:
          type: string
    associations: {}
  DefaultPayload:
    uuid: 02314163b0e168ab01103c84666e66f0
    attributes: {}
    associations: {}
  default:
    uuid: a577e5e7236b185a8fd88c9a510b91b6
    attributes:
      authToken:
        allowMultiple: false
        uuid: 02c9ec85da34fa2391aa2c4819f04fec
        required: true
        range:
          type: string
    associations: {}
  "":
    uuid: a23799694339ac83e967cf5f78e0a791
  default:
    uuid: 73d4bdabc831cf4cb95e19571d3d2fdc
    attributes: {}
    associations: {}
    extends: http://mulesoft.com/modeling/instances/330ec9a9e864dbaee0f09d7b31608d37
  Entity38:
    uuid: c845fcbfdb026634bef929813cfb7027
    attributes: {}
    associations:
      upgrades:
        allowMultiple: true
        uuid: e7b3c258aecdbd1e235cb11e2727156c
        required: true
        target: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
    description: Created module.
  DefaultPayload:
    uuid: 97e152e9d420d05468f2966ab64201fa
    attributes: {}
    associations: {}
  DefaultPayload:
    uuid: bcc072941d750acce15542dc7ea04374
    attributes: {}
    associations: {}
  DefaultPayload:
    uuid: cff038944be9250c63f949a5e538f613
    attributes: {}
    associations: {}
  DefaultPayload:
    uuid: b1521db32dd59de69dd786d14516424d
    attributes: {}
    associations: {}
  DefaultPayload:
    uuid: 01f6c1996ba613c2b2bc24438ad6be91
    attributes: {}
    associations: {}
  DefaultPayload:
    uuid: b464b8d1bf44ad7f78f0ced663240891
    attributes: {}
    associations: {}
  Entity19:
    uuid: 78b9ff9bcb8e153f002203d1c3f47035
    attributes: {}
    associations: {}
    description: Created module.
    extends: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
  Entity20:
    uuid: be75df671c49d7069c91d05a7f9402f8
    attributes: {}
    associations: {}
    extends: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
entryPoint:
  uuid: d08bb86ecfe5a6eca23305f7d8d1e126
  name: ARC Analytics API
  description: |
    Advanced REST client API.

    It is consisten of Analytics API, Letsencrypt support API and ARC modules API.

    ## Analytics API 

    Analytics API is a supplement for Google Analytics used in the app. It collected very limited data: daily suers and sessions, weekly users and sessions and finally monthly users and sessions.

    Any information stored in the analyics API can't be reversed back to any particular instance of the application whether the user is authenticated or not. See documentation of `How data are  stored` for more information.

    ## Modules API

    ARC modules API is a registry of ARC modules that can be installed in the application.
    API keeps tracking of versions of published modules and informs application about new version of the module.
    It also allows search through available modules so the user can install module directly from the application.

    Modules are consistent of themes and arc extensions. Extensions are either web components or node modules.
  operations:
    -
      uuid: 51b745a1377858fb0a8e0a0a1f02c258
      name: Find Resource /users
      transition:
        uuid: 4c297401cd3408dd9f886a891c6ea5dc
        target: http://mulesoft.com/modeling/instances/0505e671-31cc-46cb-92aa-99f8fb169f82
      inputs: []
      output:
        allowMultiple: false
        uuid: 6a1ee8706d816220d95fff9f8c287206
        required: false
        objectRange: http://mulesoft.com/modeling/instances/cff038944be9250c63f949a5e538f613
      isMutation: false
      type: custom
    -
      uuid: f9e1dc01de48ebb05e1bc8bd8022dc93
      name: Find Resource /modules
      transition:
        uuid: c53d80a252e4242011c964a3ed38f6d4
        target: http://mulesoft.com/modeling/instances/a01af525-fe4f-49c1-b6e6-45d0b52ee089
      inputs:
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: bbebbd7ea36fe2610396a46879920edb
          name: q
          required: false
          description: A query for filtering the modules results. See the "Search for modules" documentation guide for the supported syntax.
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: 0e9567980728b552708d7c0617f991d4
          name: type
          required: false
          description: Type of the module. It can be either `extension` or `theme`.
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: c9ab49d1a000bac8238190dcf1a91040
          name: orderBy
          required: false
          description: |
            A sort property. By default it is module creation `time` in descending order.
            Other properties are `stars` and `downloads` as a number of downloads of the module.

            With the property you may specify direction as either `desc` or `asc`. If not specified, `desc` is assumed.
      output:
        allowMultiple: false
        uuid: 72aa0af0e92f433513d70934b9794fad
        required: false
        objectRange: http://mulesoft.com/modeling/instances/b464b8d1bf44ad7f78f0ced663240891
      isMutation: false
      type: custom
    -
      uuid: 9fe48ea22f89f58e6db9487cba4da22b
      name: Create updates
      inputs:
        -
          allowMultiple: false
          uuid: 71847a721f171889122877afd6b98446
          required: false
          objectRange: http://mulesoft.com/modeling/instances/0e8cc6df0ce76b06f6fa0a62fa1d5f39
      output:
        allowMultiple: false
        uuid: 086eca1976baee07d848bff3d31e7bea
        required: false
        objectRange: http://mulesoft.com/modeling/instances/c845fcbfdb026634bef929813cfb7027
      isMutation: true
      type: custom
    -
      uuid: 50b3e61fcd90bc274aee5a15b0a107ed
      name: Find Resource /analyzer
      transition:
        uuid: a9e5dbafee0ca566741f3704f41d7280
        target: http://mulesoft.com/modeling/instances/3091a69e-bf9f-4d90-a2d9-b30819c63d60
      inputs: []
      output:
        allowMultiple: false
        uuid: c53cc71d2f6b63b1297186b9ecdca1f0
        required: false
        objectRange: http://mulesoft.com/modeling/instances/bcc072941d750acce15542dc7ea04374
      isMutation: false
      type: custom
    -
      uuid: 6e7a67981905b12cd4a523f83c935671
      name: Find Resource /analytics/query
      transition:
        uuid: f63c59c0ff51d5f3f789a127d809af59
        target: http://mulesoft.com/modeling/instances/40ea1123-a963-45f8-b6ab-35cda040c4b9
      inputs: []
      output:
        allowMultiple: false
        uuid: 15e9906a6e60d0078d281888a4a77222
        required: false
        objectRange: http://mulesoft.com/modeling/instances/7bb8e8d7b76ef2c7d6233d512d717b6a
      isMutation: false
      type: custom
    -
      uuid: 2bfb8d8d1983104b31c919796e23989e
      name: Find Resource /.well-known/acme-challenge/{challenge}
      transition:
        uuid: 7886afe504167941dd9b07fb11ba997f
        target: http://mulesoft.com/modeling/instances/88c727fb-de5c-4c18-b0b7-46bbdbef3243
      inputs:
        -
          scalarRange:
            type: string
          allowMultiple: false
          uuid: 7b13bae5d2313e37f7af2c5158594a47
          name: challenge
          required: true
          description: A challenge code
      output:
        scalarRange:
          type: string
        allowMultiple: false
        uuid: c206714a058021e9b9a92663ee317ab3
        required: false
      isMutation: false
      type: custom
    -
      uuid: ed0b913a97a6aaae95255bd887bc80a9
      name: Find Resource /tasks
      transition:
        uuid: 2357693c6f2cd00a9f044ecc81f33844
        target: http://mulesoft.com/modeling/instances/af08b939-9c94-4c76-85c0-3fcba817b828
      inputs: []
      output:
        allowMultiple: false
        uuid: a3fc1350402a33a68d63f5221743e22f
        required: false
        objectRange: http://mulesoft.com/modeling/instances/1382949448b65cb83b37f22089d07b70
      isMutation: false
      type: custom
    -
      uuid: a40efdc5db76ca3f438ea6ed430c9b00
      name: Create analytics/record
      inputs:
        -
          allowMultiple: false
          uuid: 46fe31571db00ff1d58a1c909ac47ce0
          required: false
          objectRange: http://mulesoft.com/modeling/instances/1e5702b15ab9860d304dd28c920985f4
      output:
        allowMultiple: false
        uuid: c67b3f2fc2ed5df202aaba0ff3788250
        required: false
        objectRange: http://mulesoft.com/modeling/instances/97e152e9d420d05468f2966ab64201fa
      isMutation: true
      type: custom
    -
      uuid: 139f8e71b2b7eb856d86fbdd7fae3c78
      name: Find Resource /auth
      transition:
        uuid: 9239b3e7de20176157b7984935f004ad
        target: http://mulesoft.com/modeling/instances/aa64caca-ed97-4da8-bc47-605f8d516f68
      inputs: []
      output:
        allowMultiple: false
        uuid: 429d392a091b6734d19a139607936707
        required: false
        objectRange: http://mulesoft.com/modeling/instances/f55849cd3320522c9b00af9ed0631ad6
      isMutation: false
      type: custom
resources:
  -
    uuid: dbe13d02-8c28-44a1-a70c-530db8ef9757
    name: Resource /users/{userId}
    schema:
      uuid: 73d4bdabc831cf4cb95e19571d3d2fdc
      name: default
      attributes: {}
      associations: {}
      extends: http://mulesoft.com/modeling/instances/330ec9a9e864dbaee0f09d7b31608d37
    operations: []
    type: individual
  -
    uuid: af08b939-9c94-4c76-85c0-3fcba817b828
    name: Resource /tasks
    schema:
      uuid: 1382949448b65cb83b37f22089d07b70
      name: DefaultPayload
      attributes: {}
      associations: {}
    description: |
      Server that handles cron calls.

      This endpoint is meant to be called by cron. It is mapping calls to the `/analyzer/` endpoint.
    operations:
      -
        uuid: 4f3534de44c2e55e4dda1e7e577947bd
        name: Find Resource /tasks/{scope}/{type}
        transition:
          uuid: c8ddac1bc0989699c59699acaa0a781f
          target: http://mulesoft.com/modeling/instances/c2da1d33-9e22-4d9b-8b8d-1770713e343d
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: d57c453cfa8b3a921e9cfaa6f80518e0
            name: type
            required: true
            description: |
              Type of the data to compute. Can be either `users` to compute number of users for given scope and `sessions` to compute number of sessions.
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 3b640988340816f6a6ea8845ea6dcd4c
            name: scope
            required: true
            description: |
              The time scope of computation to perform. It can be either `daily`, `weekly` or `monthly`.

              Except for the daily type, actual start date may be different than the one provided in the `day` query parameter.
              For weekly computations the server will always set monday going backward if the day is not Monday.
              Similar for monthly computations it will be always set to the first day of month.
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 3091a69e-bf9f-4d90-a2d9-b30819c63d60
    name: Resource /analyzer
    schema:
      uuid: bcc072941d750acce15542dc7ea04374
      name: DefaultPayload
      attributes: {}
      associations: {}
    description: |
      The analyser endpoint is to be run as a task.

      Because tasks computes a lot of data and performs operation on potentially hundred of thousands
      of records this will most possibly reach request time limit (30 secodns) and return with `500`
      status code.

      Tasks are executed in special environment and are allowed to work for up to 10 minutes.
    operations: []
    type: individual
  -
    uuid: 860f73e9-b0c9-49d5-8eac-ec294cb3aeb8
    name: Resource /analytics/query/{scope}
    schema:
      uuid: 01f6c1996ba613c2b2bc24438ad6be91
      name: DefaultPayload
      attributes: {}
      associations: {}
    description: Endpoint to query for periodical statistics.
    operations: []
    type: individual
  -
    uuid: d53e0438-c884-42dc-bc58-3796bd79f610
    name: Resource /modules/{moduleId}
    schema:
      uuid: be75df671c49d7069c91d05a7f9402f8
      name: Entity20
      attributes: {}
      associations: {}
      extends: http://mulesoft.com/modeling/instances/1753b39455778dd496626816c6440969
    description: |
      An endpoint to get information abour a module or to manage it.
      Only a user that created the module can manage it (update or delete).

      Updating module usually changes it's description or version.

      This endpoint returns information about latest released version of the module
      (with highest version number).

      To manage specific version use `/{moduleId}/{versionNumber}` endponit.
    operations:
      -
        uuid: 32d4d631bdab928b5b88e0a9c999027d
        name: Update
        inputs:
          -
            allowMultiple: false
            uuid: e27bb2c8465e896389a92f443e1f4b9c
            required: false
            objectRange: http://mulesoft.com/modeling/instances/897b14e331cc96dc1efb5d0518c9c942
        isMutation: true
        type: custom
      -
        uuid: 03db50fedd16651fcc6ff84457b2aa4c
        name: Delete
        inputs: []
        isMutation: true
        type: custom
      -
        uuid: f58fe6e5b539449e5fc4f697e28de926
        name: Find Resource /modules/{moduleId}/star
        transition:
          uuid: fbffd12eed4c063ec52eaa5d313475f7
          target: http://mulesoft.com/modeling/instances/646b3246-4d79-4857-aecb-c5a402eeaeec
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 5ac79afc50a76bbe1bc80084f7884358
            name: moduleId
            required: true
            description: ID of the module.
        isMutation: false
        type: custom
    type: individual
  -
    uuid: c2da1d33-9e22-4d9b-8b8d-1770713e343d
    name: Resource /tasks/{scope}/{type}
    operations: []
    type: individual
  -
    uuid: 5131ca0d-c812-4567-9a5d-fd98d3068357
    name: Resource /analytics/query/daily
    schema:
      uuid: 02314163b0e168ab01103c84666e66f0
      name: DefaultPayload
      attributes: {}
      associations: {}
    description: Endpoint to query for daily statistics.
    operations: []
    type: individual
  -
    uuid: 88c727fb-de5c-4c18-b0b7-46bbdbef3243
    name: Resource /.well-known/acme-challenge/{challenge}
    schema:
      uuid: 95f71d36ce5565c8d97a82c469bdee46
      name: ""
    description: An endpoint to make a request from the LetsEncrypt service to confirm the domain ownership.
    operations: []
    type: individual
  -
    uuid: aa64caca-ed97-4da8-bc47-605f8d516f68
    name: Resource /auth
    schema:
      uuid: f55849cd3320522c9b00af9ed0631ad6
      name: DefaultPayload
      attributes: {}
      associations: {}
    operations:
      -
        uuid: 29c1f696ba52046dc963569ed1171abe
        name: Create token
        inputs:
          -
            allowMultiple: false
            uuid: 465fe77c2adc8de1b501572857e023f8
            required: false
            objectRange: http://mulesoft.com/modeling/instances/9ffdafabc2076bec08667b1ee4dba95f
        output:
          allowMultiple: false
          uuid: a71f9d26cdb325e110ad842c2a4f8af1
          required: false
          objectRange: http://mulesoft.com/modeling/instances/a577e5e7236b185a8fd88c9a510b91b6
        isMutation: true
        type: custom
    type: individual
  -
    uuid: a01af525-fe4f-49c1-b6e6-45d0b52ee089
    name: Resource /modules
    schema:
      uuid: b464b8d1bf44ad7f78f0ced663240891
      name: DefaultPayload
      attributes: {}
      associations: {}
    operations:
      -
        uuid: 8afd31f1721909a488a74924880392ce
        name: Create
        inputs:
          -
            allowMultiple: false
            uuid: 0ff9abcec1bfa9f55123ea7bb9788b41
            required: false
            objectRange: http://mulesoft.com/modeling/instances/0944f6703ed348af7677ec05cde00b94
        output:
          allowMultiple: false
          uuid: 08c7b70fd0d314bf0a77417b71cf0e14
          required: false
          objectRange: http://mulesoft.com/modeling/instances/78b9ff9bcb8e153f002203d1c3f47035
        isMutation: true
        type: custom
      -
        uuid: 7e06fe27ec0300f746947cf494c855eb
        name: Find Resource /modules/{moduleId}
        transition:
          uuid: 367895b13661bff9d40c61fadadd1d7f
          target: http://mulesoft.com/modeling/instances/d53e0438-c884-42dc-bc58-3796bd79f610
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 034f69194eaabdafedd3d819b6e22342
            name: moduleId
            required: true
            description: ID of the module.
        output:
          allowMultiple: false
          uuid: 9ceba411c7fde3ad58d59b0e97fc0b00
          required: false
          objectRange: http://mulesoft.com/modeling/instances/be75df671c49d7069c91d05a7f9402f8
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 646b3246-4d79-4857-aecb-c5a402eeaeec
    name: Resource /modules/{moduleId}/star
    operations:
      -
        uuid: 1b3f7a8bbb834323ecf7fb3f617453cc
        name: Create
        inputs:
          -
            allowMultiple: false
            uuid: 843f6429d6863e7682353e3ef409bcc6
            required: false
            objectRange: http://mulesoft.com/modeling/instances/a23799694339ac83e967cf5f78e0a791
        output:
          allowMultiple: false
          uuid: e2fb720accd76be6fb9132517f18e0be
          required: false
          objectRange: http://mulesoft.com/modeling/instances/b1521db32dd59de69dd786d14516424d
        isMutation: true
        type: custom
      -
        uuid: 7d8cfd619b30fd15c5274dab126d34d0
        name: Delete
        inputs: []
        isMutation: true
        type: custom
    type: individual
  -
    uuid: 40ea1123-a963-45f8-b6ab-35cda040c4b9
    name: Resource /analytics/query
    schema:
      uuid: 7bb8e8d7b76ef2c7d6233d512d717b6a
      name: DefaultPayload
      attributes: {}
      associations: {}
    description: |
      The Query endpoint is responsible for getting data out from the datastore.

      The data are agregated every day, week (on monday) and month (every first day of month).
      This endpoints returns data from aggregated tables and never operated on raw data.

      Depending on endpoint it can return only number of users/sessions for given day or number
      of users or session for a week or month with daily sessions or users. See methods
      documentation for more details.
    operations:
      -
        uuid: b79163dfdca16351a8393a4501236e3b
        name: Find Resource /analytics/query/daily
        transition:
          uuid: 598c5dfaa84e5e3ee596c4864d637490
          target: http://mulesoft.com/modeling/instances/5131ca0d-c812-4567-9a5d-fd98d3068357
        inputs: []
        output:
          allowMultiple: false
          uuid: c896811a922adbc7a705ff623db4d578
          required: false
          objectRange: http://mulesoft.com/modeling/instances/02314163b0e168ab01103c84666e66f0
        isMutation: false
        type: custom
      -
        uuid: de0f6a5e433c39c41045937b3978c96e
        name: Find Resource /analytics/query/{scope}
        transition:
          uuid: d37a6289fe87cc31f49b16893244c627
          target: http://mulesoft.com/modeling/instances/860f73e9-b0c9-49d5-8eac-ec294cb3aeb8
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: 2a85e25fbd956bcfca7714a714788255
            name: scope
            required: true
            description: |
              A time period for the statistics. Only `weekly` and `monthly` values are allowed.
        output:
          allowMultiple: false
          uuid: fd7e0dc1b835d95acc1771761d45382c
          required: false
          objectRange: http://mulesoft.com/modeling/instances/01f6c1996ba613c2b2bc24438ad6be91
        isMutation: false
        type: custom
    type: individual
  -
    uuid: 0505e671-31cc-46cb-92aa-99f8fb169f82
    name: Resource /users
    schema:
      uuid: cff038944be9250c63f949a5e538f613
      name: DefaultPayload
      attributes: {}
      associations: {}
    operations:
      -
        uuid: ed93750a2173d5e44412a90e00254342
        name: Find Resource /users/{userId}
        transition:
          uuid: e88bc9ae4a347c7fffcbd645b383a70c
          target: http://mulesoft.com/modeling/instances/dbe13d02-8c28-44a1-a70c-530db8ef9757
        inputs:
          -
            scalarRange:
              type: string
            allowMultiple: false
            uuid: d3f95ba5749c7c00967c253eea2cf9b4
            name: userId
            required: true
            description: |
              User id which is a `ref` property from user response object.
        output:
          allowMultiple: false
          uuid: 1d2c9f3c54969f0b47de0ab96e8c8a9c
          required: false
          objectRange: http://mulesoft.com/modeling/instances/73d4bdabc831cf4cb95e19571d3d2fdc
        isMutation: false
        type: custom
    type: individual
